<!DOCTYPE html>
<html>
<head>
  <title>quickhull - raphael</title>
  <script src="jquery-1.7.min.js"></script>
  <script src="underscore-min.js"></script>
  <script src="raphael-min.js"></script>
  <script src="geometry.js"></script>
  <script src="quickhull.js"></script>
  <script src="quickhull-test.js"></script>
</head>
<body onload="startTest()">
  <h1>quickhull - rapha&euml;l :: Testing</h1>
    <p id="test_log">Loading...</p>

  <script type="text/javascript">
	var test_cnt = 1000;
	var xmin = -100;
	var ymin = -100;
	var xmax = 100;
	var ymax = 100;

	function randomPointTest() {
		var point_cnt = 100;
		$("#test_log").append("Random point cloud test....");

		function singleTest() {
			var points = geometry.gen_random_points(100, xmin, xmax, ymin, ymax);
			var qh = quickhull(points);
			var bf = convex_hull_bruteforce(points);
			console.log(points);
			console.log("");
			return geometry.points_lists_are_equal(qh, bf);
		}

		var i;
		for(i = 0;i < test_cnt;++i) {
			if(!singleTest()) {
				$("#test_log").append("Error!<br />");
				return;
			}
		}

		$("#test_log").append("done<br />");
	}

	function startTest() {
		$("#test_log").html("");
		randomPointTest();
	}
  </script>
</body>
</html>
